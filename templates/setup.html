{% extends 'base.html' %}
{% block content %}
<div class="container">
   <form class="bootstrap-form" method="post" action="{{ url_for('create') }}">
     <h4>Email</h4>
     <input type="text" name="email" class="form-control">
     <h4>Phone</h4>
      <input type="text" name="phone" class="form-control">
     <h4>Checker Label</h4>
     <input type="text" name="checker_name" class="form-control"
      placeholder="My Checker" required autofocus>
     <h4>Search Term</h4>
     <input type="text" name="search_term" class="form-control"
      placeholder="Macbook" required>
     <h4>Category Id</h4>
     <input type="number" name="category" class="form-control"
      placeholder="111422" required>
     <h4>Price Range</h4>
     <div class="row">
        <div class="col-md-6">
           <input type="number" name="range_start" class="form-control" placeholder="$Lowest" required>
        </div>
        <div class="col-md-6">
           <input name="range_end" type="number" class="form-control" placeholder="$Highest" required>
        </div>
     </div>
     <h4>Checker Type</h4>
     <select name="checker_type">
        <option value="both">Both</option>
        <option value="auction">Auction</option>
        <option value="bin">Buy It Now</option>
     </select>
     <h4>Threshold</h4>
     <input type="number" name="threshold" class="form-control" required>
     <input type="hidden" name="num_keywords" value="0" id="numKeywords">
     <h4>Keywords (Case and Space Insensitive)</h4>
     <div id="keywords">
     </div>
     <div class="btn"><span id="addNewKeyword" class="btn btn-success">+</span></div>
     <div class="btn"><span id="removeKeyword" class="btn btn-danger">-</span></div>
     <button class="btn btn-lg btn-primary btn-block">Submit</button>
  </form>
</div>
{% endblock %}

{% block script %}
<script type="text/javascript">
   var counter = 0;
   $(document).ready(function() {
      $("#addNewKeyword").click(function() {
         field_to_append = '<div class="row" id="key' + counter + '"><div class="col-md-9"><input type="text" name="keyword' + counter + '" class="form-control" placeholder="Keyword" required></div><div class="col-md-3"><input name="value' + counter + '" type="number" class="form-control" placeholder="Value" required></div></div><br>';
         $("#keywords").append(field_to_append);
         counter += 1;
         $("#numKeywords").val(counter);
      });

      $("#removeKeyword").click(function() {
        if(counter >= 0)
        {
          $("#key" + (counter-1)).remove();
          counter -= 1;
          $("#numKeywords").val(counter);
        }
      });

   });
</script>
{% endblock %}
